function getAddress(searchTerm){
	 const key = 'AIzaSyA3RAamR0JAm6pZz46jZRVdLuLLx9wQwg4';
	
  const url = `${GOOGLE_SEARCH_URL}?key=${key}&address=${searchTerm}`;
	return fetch(url)
			.then(response => response.json())
			.then(location => location.results[0].geometry.location);

}
 
function getDataFromApi(lat, lon, radius, cuisine) {
 const query = {
  count: 20,
  sort: 'real-distance',
  apikey: '460286dfbdb204719a6ef49dfdc82c58'
 }
	const url = `${ZOMATO_SEARCH_URL}?apikey=${query.apikey}&lat=${lat}&lon=${lon}&count=${query.count}&sort=${query.sort}`;
	
	return fetch(url)
			.then(response => response.json())
			.then(restaurant_data => restaurant_data.restaurants);
â€‹
}
function watchSubmit() {
  $('.js-search-form').submit(event => {
    event.preventDefault();
    const queryTarget = $(event.currentTarget).find('#js-query');
    const query = queryTarget.val();
    const queryRadius = $(event.currentTarget).find('#radius');
    const queryR = queryRadius.val();
    const queryCuisine = $(event.currentTarget).find('#cuisine');
    const queryC = queryCuisine.val();
    // clear out the input
    queryTarget.val("");
        getAddress(query)
            .then(location => {
                    return getDataFromApi(location.lat, location.lng, queryR, queryC);
                })
                .then(restaurants => {
                    renderResult(restaurants);
                });
  });
}